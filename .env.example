# Environment Configuration Example
# Long Weekend Optimizer - Story 1.3 Local Storage Persistence

# ==========================================
# Local Storage Configuration
# ==========================================

# Storage Key for holiday data persistence in browser localStorage
# Default: long-weekend-optimizer-holidays
# Note: This is used internally by localStorageService.ts
VITE_HOLIDAY_STORAGE_KEY=long-weekend-optimizer-holidays

# ==========================================
# Feature Flags
# ==========================================

# Enable/disable holiday input form validation
# true: Enable weekend prevention, duplicate detection, required field validation
# false: Basic form functionality only
VITE_ENABLE_HOLIDAY_VALIDATION=true

# Enable/disable localStorage error handling with user feedback
# true: Show user-friendly error messages for storage issues
# false: Silent error handling (development only)
VITE_ENABLE_STORAGE_ERROR_HANDLING=true

# Enable localStorage feature detection and graceful degradation
# true: Automatically detect localStorage availability and handle errors
# false: Assume localStorage is always available (development/testing)
VITE_ENABLE_STORAGE_FEATURE_DETECTION=true

# Enable/disable responsive design features
# true: Apply mobile-friendly styling and touch targets
# false: Desktop-only layout (development/testing)
VITE_ENABLE_RESPONSIVE_DESIGN=true

# ==========================================
# Development Configuration
# ==========================================

# Enable debug logging for localStorage operations
# true: Console log all storage operations
# false: Production-level error logging only
VITE_DEBUG_STORAGE=false

# Enable React Strict Mode
# true: Enable additional React development warnings and checks
# false: Standard React development mode
VITE_REACT_STRICT_MODE=true

# ==========================================
# Testing Configuration
# ==========================================

# Mock localStorage in test environment
# true: Use mock storage for E2E testing
# false: Use real browser localStorage
VITE_MOCK_STORAGE_FOR_TESTS=true

# ==========================================
# Browser Compatibility
# ==========================================

# Minimum localStorage quota warning threshold (in bytes)
# Shows warning when storage usage exceeds this percentage
# Value: 0-100 (percentage)
VITE_STORAGE_WARNING_THRESHOLD=90

# ==========================================
# Application Settings
# ==========================================

# Maximum number of holidays allowed
# Helps prevent storage quota issues
# Default: 1000
VITE_MAX_HOLIDAYS=1000

# Auto-clear error messages timeout (in milliseconds)
# How long storage error messages remain visible
# Default: 5000 (5 seconds)
VITE_ERROR_CLEAR_TIMEOUT=5000

# Auto-clear success messages timeout (in milliseconds)
# How long storage success messages remain visible
# Default: 3000 (3 seconds)
VITE_SUCCESS_CLEAR_TIMEOUT=3000

# ==========================================
# Notes for Story 1.3 Implementation
# ==========================================

# Features Implemented:
# ✅ Holiday form with name and date inputs (from Story 1.2)
# ✅ Weekend prevention validation (no Sat/Sun holidays) (from Story 1.2)
# ✅ Duplicate date detection (from Story 1.2)
# ✅ Enhanced localStorage service with comprehensive persistence
# ✅ Automatic data loading on application startup
# ✅ Feature detection for localStorage availability
# ✅ Corrupted data detection and recovery
# ✅ Storage quota estimation and management
# ✅ Responsive mobile design (from Story 1.2)
# ✅ Holiday list with formatted dates (from Story 1.2)
# ✅ Delete functionality with confirmation (from Story 1.2)
# ✅ Form validation with clear error messages (from Story 1.2)
# ✅ Success and error feedback with auto-clear timing
# ✅ Graceful degradation when localStorage unavailable

# Enhanced Storage Error Types Handled:
# - QUOTA_EXCEEDED: Storage quota exceeded with user-friendly guidance
# - SECURITY_ERROR: Browser security restrictions (private mode, disabled storage)
# - GENERIC_ERROR: Other storage errors with fallback handling
# - CORRUPTION_ERROR: Data corruption detection with automatic recovery

# Storage Service Features:
# - isLocalStorageAvailable(): Feature detection function
# - loadHolidays(): Advanced loading with corruption detection
# - saveHolidays(): Enhanced saving with validation and quota checking
# - getStorageQuotaInfo(): Storage usage estimation and quota management
# - Automatic cleanup of corrupted data with error recovery
# - UUID generation with fallback for older browsers

# Persistence Integration:
# - Automatic loading on app startup via useEffect
# - Immediate saving on add/delete operations
# - Error propagation from service to context to components
# - Non-blocking error handling with user feedback
# - Storage availability status tracking

# Form Validation Rules:
# - Holiday name: required non-empty string
# - Holiday date: required valid date
# - Weekend dates: rejected (Saturday/Sunday)
# - Duplicate dates: rejected (one holiday per date)
# - Storage validation: Holiday objects validated before saving

# User Feedback System:
# - Success messages: 3-second auto-clear (green styling)
# - Error messages: 5-second auto-clear (red styling)
# - Storage unavailable notices (persistent informational display)
# - Accessibility: role="alert" and aria-live for screen readers

# Date Format Display:
# "Holiday Name - DayOfWeek, Mon DD, YYYY"
# Example: "Thanksgiving - Thursday, Nov 27, 2025"

# Browser Compatibility:
# - localStorage feature detection for graceful degradation
# - crypto.randomUUID with fallback for older browsers
# - Comprehensive error handling for various browser scenarios