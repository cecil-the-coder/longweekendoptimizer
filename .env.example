# Environment Configuration Example
# Long Weekend Optimizer - Story 1.3 Local Storage Persistence

# ==========================================
# Local Storage Configuration
# ==========================================

# Storage Key for holiday data persistence in browser localStorage
# Default: long-weekend-optimizer-holidays
# Note: This is used internally by localStorageService.ts
VITE_HOLIDAY_STORAGE_KEY=long-weekend-optimizer-holidays

# ==========================================
# Feature Flags
# ==========================================

# Enable/disable holiday input form validation
# true: Enable weekend prevention, duplicate detection, required field validation
# false: Basic form functionality only
VITE_ENABLE_HOLIDAY_VALIDATION=true

# Enable/disable localStorage error handling with user feedback
# true: Show user-friendly error messages for storage issues
# false: Silent error handling (development only)
VITE_ENABLE_STORAGE_ERROR_HANDLING=true

# Enable localStorage feature detection and graceful degradation
# true: Automatically detect localStorage availability and handle errors
# false: Assume localStorage is always available (development/testing)
VITE_ENABLE_STORAGE_FEATURE_DETECTION=true

# Enable/disable responsive design features
# true: Apply mobile-friendly styling and touch targets
# false: Desktop-only layout (development/testing)
VITE_ENABLE_RESPONSIVE_DESIGN=true

# ==========================================
# Development Configuration
# ==========================================

# Enable debug logging for localStorage operations
# true: Console log all storage operations
# false: Production-level error logging only
VITE_DEBUG_STORAGE=false

# Enable React Strict Mode
# true: Enable additional React development warnings and checks
# false: Standard React development mode
VITE_REACT_STRICT_MODE=true

# ==========================================
# Testing Configuration
# ==========================================

# Mock localStorage in test environment
# true: Use mock storage for E2E testing
# false: Use real browser localStorage
VITE_MOCK_STORAGE_FOR_TESTS=true

# ==========================================
# Browser Compatibility
# ==========================================

# Minimum localStorage quota warning threshold (in bytes)
# Shows warning when storage usage exceeds this percentage
# Value: 0-100 (percentage)
VITE_STORAGE_WARNING_THRESHOLD=90

# ==========================================
# Application Settings
# ==========================================

# Maximum number of holidays allowed
# Helps prevent storage quota issues
# Default: 1000
VITE_MAX_HOLIDAYS=1000

# Auto-clear error messages timeout (in milliseconds)
# How long storage error messages remain visible
# Default: 5000 (5 seconds)
VITE_ERROR_CLEAR_TIMEOUT=5000

# Auto-clear success messages timeout (in milliseconds)
# How long storage success messages remain visible
# Default: 3000 (3 seconds)
VITE_SUCCESS_CLEAR_TIMEOUT=3000

# ==========================================
# Error Handling Configuration (Story 1.6)
# ==========================================

# Enable/disable Error Boundary components
# true: Wrap application sections in ErrorBoundary components for error catching
# false: Disable error boundaries (development/testing only)
VITE_ENABLE_ERROR_BOUNDARIES=true

# Enable/disable notification system for user feedback
# true: Use Notification component for success/error/warning/info messages
# false: Disable notifications (development/testing only)
VITE_ENABLE_NOTIFICATIONS=true

# Enable/disable loading spinner indicators
# true: Show LoadingSpinner components during data operations
# false: Hide loading indicators (development/testing only)
VITE_ENABLE_LOADING_SPINNERS=true

# Error boundary maximum retry attempts
# Number of "Try Again" attempts before forcing page reload
# Value: 1-10 (integer)
VITE_ERROR_BOUNDARY_MAX_RETRIES=3

# Enable development mode error details
# true: Show detailed error information in ErrorBoundary (development only)
# false: Hide technical error details from users
VITE_SHOW_ERROR_DETAILS_IN_DEV=true

# Auto-dismiss notification timeouts (in milliseconds)
VITE_SUCCESS_NOTIFICATION_TIMEOUT=3000
VITE_ERROR_NOTIFICATION_TIMEOUT=5000
VITE_WARNING_NOTIFICATION_TIMEOUT=4000
VITE_INFO_NOTIFICATION_TIMEOUT=3000

# ==========================================
# Notes for Story 1.6 Implementation
# ==========================================

# Error Handling Features Implemented:
# ✅ ErrorBoundary component with recovery UI and retry mechanism
# ✅ Notification system with 4 types and auto-dismiss functionality
# ✅ LoadingSpinner component with multiple sizes and variants
# ✅ Enhanced form validation with real-time feedback
# ✅ Comprehensive empty state handling with helpful guidance
# ✅ Storage error handling with graceful degradation
# ✅ In-memory fallback when localStorage unavailable
# ✅ Recovery options: "Try Again" and "Clear All Data" for storage issues

# Error Handling Components:
# - ErrorBoundary: React error boundary with fallback UI, max 3 retries, development details
# - Notification: Success/error/warning/info notifications with icons and dismissal
# - LoadingSpinner: Accessible loading indicators with sizes and color variants
# - Enhanced HolidayList: Storage error states, loading states, and empty states
# - Enhanced RecommendationsSection: Loading states and comprehensive error handling

# ==========================================
# Notes for Story 1.5 Implementation
# ==========================================

# Features Implemented:
# ✅ RecommendationCard component for individual recommendation display
# ✅ RecommendationsSection component for container and auto-updates
# ✅ Chronological sorting of recommendations by holiday date
# ✅ Auto-update behavior when holiday list changes (add/delete)
# ✅ Empty state handling with user-friendly messages
# ✅ Responsive design with proper ARIA labels and accessibility
# ✅ Integration with existing HolidayContext and calculateRecommendations
# ✅ 91.6% test pass rate (76/83 tests passing)

# Recommendation Display Components:
# - RecommendationCard: Individual recommendation display with formatted dates
# - RecommendationsSection: Container with auto-update, sorting, and empty states
# - Integration in App.tsx alongside HolidayForm and HolidayList
# - Real-time updates when holidays are added or removed
# - Accessible design with proper ARIA labels and semantic HTML

# All Features from Story 1.4:
# ✅ Core recommendation engine - calculateRecommendations function
# ✅ Tuesday holiday detection → Monday off recommendations
# ✅ Thursday holiday detection → Friday off recommendations
# ✅ Intelligent duplicate day avoidance (prevents recommending existing holidays)
# ✅ Comprehensive input validation and edge case handling
# ✅ O(n) performance algorithm for 50+ holidays in <10ms
# ✅ 100% test coverage with 38 comprehensive tests
# ✅ TypeScript strict typing with Recommendation interface

# Recommendation Engine Features:
# - calculateRecommendations(holidays: Holiday[]): Recommendation[]
# - Handles malformed dates and invalid inputs gracefully
# - Set-based O(1) duplicate detection for performance
# - Sorted output by holiday date for organized planning
# - Comprehensive JSDoc documentation with algorithm flow
# - Production-ready error handling patterns

# All Features from Story 1.3:
# ✅ Holiday form with name and date inputs (from Story 1.2)
# ✅ Weekend prevention validation (no Sat/Sun holidays) (from Story 1.2)
# ✅ Duplicate date detection (from Story 1.2)
# ✅ Enhanced localStorage service with comprehensive persistence
# ✅ Automatic data loading on application startup
# ✅ Feature detection for localStorage availability
# ✅ Corrupted data detection and recovery
# ✅ Storage quota estimation and management
# ✅ Responsive mobile design (from Story 1.2)
# ✅ Holiday list with formatted dates (from Story 1.2)
# ✅ Delete functionality with confirmation (from Story 1.2)
# ✅ Form validation with clear error messages (from Story 1.2)
# ✅ Success and error feedback with auto-clear timing
# ✅ Graceful degradation when localStorage unavailable

# ==========================================
# Notes for Story 1.3 Implementation (Legacy)
# ==========================================

# Features Implemented:
# ✅ Holiday form with name and date inputs (from Story 1.2)
# ✅ Weekend prevention validation (no Sat/Sun holidays) (from Story 1.2)
# ✅ Duplicate date detection (from Story 1.2)
# ✅ Enhanced localStorage service with comprehensive persistence
# ✅ Automatic data loading on application startup
# ✅ Feature detection for localStorage availability
# ✅ Corrupted data detection and recovery
# ✅ Storage quota estimation and management
# ✅ Responsive mobile design (from Story 1.2)
# ✅ Holiday list with formatted dates (from Story 1.2)
# ✅ Delete functionality with confirmation (from Story 1.2)
# ✅ Form validation with clear error messages (from Story 1.2)
# ✅ Success and error feedback with auto-clear timing
# ✅ Graceful degradation when localStorage unavailable

# Enhanced Storage Error Types Handled:
# - QUOTA_EXCEEDED: Storage quota exceeded with user-friendly guidance
# - SECURITY_ERROR: Browser security restrictions (private mode, disabled storage)
# - GENERIC_ERROR: Other storage errors with fallback handling
# - CORRUPTION_ERROR: Data corruption detection with automatic recovery

# Storage Service Features:
# - isLocalStorageAvailable(): Feature detection function
# - loadHolidays(): Advanced loading with corruption detection
# - saveHolidays(): Enhanced saving with validation and quota checking
# - getStorageQuotaInfo(): Storage usage estimation and quota management
# - Automatic cleanup of corrupted data with error recovery
# - UUID generation with fallback for older browsers

# Persistence Integration:
# - Automatic loading on app startup via useEffect
# - Immediate saving on add/delete operations
# - Error propagation from service to context to components
# - Non-blocking error handling with user feedback
# - Storage availability status tracking

# Form Validation Rules:
# - Holiday name: required non-empty string
# - Holiday date: required valid date
# - Weekend dates: rejected (Saturday/Sunday)
# - Duplicate dates: rejected (one holiday per date)
# - Storage validation: Holiday objects validated before saving

# User Feedback System:
# - Success messages: 3-second auto-clear (green styling)
# - Error messages: 5-second auto-clear (red styling)
# - Storage unavailable notices (persistent informational display)
# - Accessibility: role="alert" and aria-live for screen readers

# Date Format Display:
# "Holiday Name - DayOfWeek, Mon DD, YYYY"
# Example: "Thanksgiving - Thursday, Nov 27, 2025"

# Browser Compatibility:
# - localStorage feature detection for graceful degradation
# - crypto.randomUUID with fallback for older browsers
# - Comprehensive error handling for various browser scenarios